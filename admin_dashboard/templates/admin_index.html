{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="{% static 'css/admin_style.css'%}">
</head>

<body>

  <!-- Nav Bar -->
  {% include "admin_navbar.html" %}

  <!-- Main Content -->
  <main class="main">

    <!-- Topbar -->
    <div class="topbar">
      <h2>Customers</h2>
      <input type="text" placeholder="Search data, users, or reports">
    </div>

    <!-- Stats -->
    <div class="stats">
      <div class="card">
        <p>Total Customers</p>
        <h3>{{ customers|length }}</h3>
        <span class="green">+14.4%</span>
      </div>
      <div class="card">
        <p>New Customers</p>
        <h3>2,370</h3>
        <span class="green">+20%</span>
      </div>
      <div class="card">
        <p>Visitors</p>
        <h3>250k</h3>
        <span class="green">+20%</span>
      </div>
    </div>

    <!-- Chart -->
    <div class="chart">
      <h3>Customer Overview</h3>
      <div class="chart-placeholder">Chart Area</div>
    </div>

    <!-- Table -->
    <div class="table-section">
      <h3>Customer Details</h3>

      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Phone</th>
            <th>Orders</th>
            <th>Total Spend</th>
            <th>Status</th>
          </tr>
        </thead>

        <tbody>
          {% for customer in customers %}
          <tr>
            <td>#CUST{{ customer.id }}</td>

            <td>
              {% if customer.name and customer.name != " " %}
              {{ customer.name }}
              {% else %}
              {{ customer.username }}
              {% endif %}
            </td>

            <td>{{ customer.mobile_number }}</td>

            <td>{{ customer.total_orders }}</td>
            <td>â‚¹{{ customer.total_spend }}</td>


            <td class="{% if customer.is_active %}active{% else %}inactive{% endif %}">
              {% if customer.is_active %}
              Active
              {% else %}
              Inactive
              {% endif %}
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6" style="text-align:center;">No customers found</td>
          </tr>
          {% endfor %}
        </tbody>

      </table>
    </div>
  </main>

  <!-- Right Panel -->
  <!-- <aside class="profile">
    <img src="{{ profile.profile_pic }}" class="admin_profile" alt="Admin Profile Picture"
      style="width:100px; height:100px; border-radius:50%;">

    {% if profile %}
    <h4>{{ profile.name }}</h4>
    <p>{{ profile.email }}</p>

    <div class="profile-info">
      <p>ðŸ“ž {{ profile.mobile_number }}</p>
    </div>
    {% endif %}
  </aside> -->

</body>

</html>
