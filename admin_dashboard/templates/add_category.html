{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Add Category</title>
    <link rel="stylesheet" href="{% static 'css/admin_style.css' %}">
</head>

<body>

    <div class="container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <h2 class="logo">Herbglow</h2>

    <nav>
      <p class="menu-title">Main Menu</p>
      <a href="/admin/" class="active">Dashboard</a>
      <a href="#">Order Management</a>
      <a href="#" >Customers</a>
      <a href="#">Coupon Code</a>
      <a href="#">Categories</a>
      <a href="#">Transaction</a>
      <a href="#">Brand</a>

      <p class="menu-title">Product</p>
      <a href="/admin/add-category">Add category</a>
      <a href="/admin/add-product">Add Products</a>
      <a href="/admin/add-variant">Add variant</a>
      <a href="#">Product List</a>
      <a href="#">Product Reviews</a>

      <p class="menu-title">Admin</p>
      <a href="#">Admin Role</a>
      <a href="#">Control Authority</a>
      <a href="/admin/logout">Logout</a>
    </nav>
  </aside>

        <!-- Main -->
        <main class="main">
            <div class="topbar">
                <h2>Add Category</h2>
            </div>

            <!-- Add Category -->
            <div class="card">
                {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                    <p class="alert {{ message.tags }}">
                        {{ message }}
                    </p>
                    {% endfor %}
                </div>
                {% endif %}


                <h3>Create Category</h3>

                <form action="/admin/add-category/" method="post">
                    {% csrf_token %}
                    <input type="text" name="category_name" placeholder="Category name" required>
                    <br><br>
                    <button class="btn-green">Add Category</button>
                </form>
            </div>

            <!-- Category List -->
            <div class="card" style="margin-top:20px;">
                <h3>Available Categories</h3>

                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Category Name</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for category in categories %}
                        <tr>
                            <td>{{ category.category_id }}</td>
                            <td>{{ category.category_name }}</td>
                            <td><a href="/admin/edit-category/{{category.category_id}}/">Edit</a></td>
                            <td><a href="/admin/delete-category/{{category.category_id}}/">Delete</a></td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="2">No categories found</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

        </main>
    </div>

</body>

</html>